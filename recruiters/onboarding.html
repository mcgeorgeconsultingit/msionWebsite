<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Get started with MSION</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>

    <link rel="stylesheet" href="../styles/global.css" />
    <link rel="stylesheet" href="../styles/onboarding.css" />
  </head>
  <body>
    <section class="py-5 mt-5">
      <div class="wrapper onboarding-form__wapper container">
        <div class="row d-flex justify-content-between align-items-center mb-5">
          <div class="bar d-flex col-8 col-sm-4 align-items-center">
            <div class="progress p-0 w-100 me-2">
              <div
                class="progress-bar bg-primary"
                role="progressbar"
                id="progress"
                style="width: 25%"
                aria-valuenow="25"
                aria-valuemin="0"
                aria-valuemax="100"
              ></div>
            </div>
            <label for="progress">25%</label>
          </div>
          <button class="btn bg-base col-4 col-md-1" style="cursor: pointer">
            Skip
          </button>
        </div>
        <form action="" method="POST" enctype="multipart/form-data">
          <div class="tab w-100">
            <div class="profile-img mb-5">
              <div id="addImgBtn-wrapper" style="cursor: pointer">
                <img
                  id="addImgBtn"
                  src="../assets/onboarding/addImg.png"
                  onclick="getFile()"
                  alt=""
                />
                <div style="height: 0px; width: 0px; overflow: hidden">
                  <input
                    id="upfile"
                    type="file"
                    accept="image/*"
                    onchange="sub(this)"
                  />
                </div>
              </div>
              <div class="title">Upload profile image</div>
            </div>
            <div class="personal-info">
              <input
                id="name"
                class="mb-3"
                type="text"
                name="Name"
                placeholder="Name"
                required
              />
              <input
                id="tagline"
                class="mb-2"
                type="text"
                name="tagline"
                placeholder="Tagline"
              />
              <br>
              <h2 class="mt-5 mb-2 text-semibold">About</h2>
              <textarea name="about" id="about"></textarea>
            </div>
          </div>

          <div class="tab w-100">
            <h2 class="mt-5 mb-2 text-semibold">Location</h2>
            <input
            id="location"
            class="mb-3"
            type="text"
            name="Location"
            placeholder="Location"
            />

            <h2 class="fw-semibold mt-5">Founding Year</h2>
            <input
              type="number"
              class="transition mb-3"
              placeholder="Skills"
              name="skills"
              max="2024"
            />

            <h2 class="fw-semibold mt-5">Size of Company</h2>
            <input
              type="size"
              class="transition"
              placeholder="Size"
              name="Size"
            />

            <h2 class="fw-semibold mt-5">Industry (enter up to 10)</h2>
            <input
              type="industry"
              class="transition"
              placeholder="Industry"
              name="Industry"
            />

            <h2 class="fw-semibold mt-5">Services (enter up to 30)</h2>
            <input
              type="industry"
              class="transition"
              placeholder="Industry"
              name="Industry"
            />

            <h2 class="fw-semibold mt-5">Stack (Tools used)</h2>
            <input
              type="stack"
              class="transition"
              placeholder="Stack"
              name="Stack"
            />
          </div>

          <div class="tab w-100">
            <h2 class="mb-3 fw-semibold">Social handles</h2>
            <div class="social-icons d-flex flex-row flex-wrap gap-2 mb-5">
              <div id="behance" class="active">
                <img
                  src="../assets/onboarding//social/behance.png"
                  alt=""
                  class="rounded-circle"
                />
              </div>
              <div id="amazon">
                <img
                  src="../assets/onboarding//social/amazon.png"
                  alt=""
                  class="rounded-circle"
                />
              </div>
              <div id="github">
                <img
                  src="../assets/onboarding//social/github.png"
                  alt=""
                  class="rounded-circle"
                />
              </div>
              <div id="instagram">
                <img
                  src="../assets/onboarding//social/instagram.png"
                  alt=""
                  class="rounded-circle"
                />
              </div>
              <div id="tiktok">
                <img
                  src="../assets/onboarding//social/tiktok.png"
                  alt=""
                  class="rounded-circle"
                />
              </div>
              <div id="x">
                <img
                  src="../assets/onboarding//social/x.png"
                  alt=""
                  class="rounded-circle"
                />
              </div>
              <div id="youtube">
                <img
                  src="../assets/onboarding//social/youtube.png"
                  alt=""
                  class="rounded-circle"
                />
              </div>
              <div id="website">
                <img
                  src="../assets/onboarding//social/website.png"
                  alt=""
                  class="rounded-circle"
                />
              </div>
            </div>

            <div class="social-links d-flex flex-column gap-3">
              <h2 class="mb-3 fw-semibold">Enter Links</h2>
              <div
                class="link_input flex-row align-items-center gap-3 active"
                id="behance"
              >
                <img src="../assets/onboarding/social/behance.png" alt="" />
                <input
                  type="text"
                  name="behance_link"
                  id="behance"
                  placeholder="Enter Link"
                />
              </div>
              <div
                class="link_input flex-row align-items-center gap-3"
                id="amazon"
              >
                <img src="../assets/onboarding/social/amazon.png" alt="" />
                <input
                  type="text"
                  name="amazon_link"
                  id="amazon"
                  placeholder="Enter Link"
                />
              </div>
              <div
                class="link_input flex-row align-items-center gap-3"
                id="github"
              >
                <img src="../assets/onboarding/social/github.png" alt="" />
                <input
                  type="text"
                  name="github_link"
                  id="github"
                  placeholder="Enter Link"
                />
              </div>
              <div
                class="link_input flex-row align-items-center gap-3"
                id="instagram"
              >
                <img src="../assets/onboarding/social/instagram.png" alt="" />
                <input
                  type="text"
                  name="instagram_link"
                  id="instagram"
                  placeholder="Enter Link"
                />
              </div>
              <div
                class="link_input flex-row align-items-center gap-3"
                id="tiktok"
              >
                <img src="../assets/onboarding/social/tiktok.png" alt="" />
                <input
                  type="text"
                  name="tiktok_link"
                  id="tiktok"
                  placeholder="Enter Link"
                />
              </div>
              <div class="link_input flex-row align-items-center gap-3" id="x">
                <img src="../assets/onboarding/social/x.png" alt="" />
                <input
                  type="text"
                  name="x_link"
                  id="x"
                  placeholder="Enter Link"
                />
              </div>
              <div
                class="link_input flex-row align-items-center gap-3"
                id="youtube"
              >
                <img src="../assets/onboarding/social/youtube.png" alt="" />
                <input
                  type="text"
                  name="youtube_link"
                  id="youtube"
                  placeholder="Enter Link"
                />
              </div>
              <div
                class="link_input flex-row align-items-center gap-3"
                id="website"
              >
                <img src="../assets/onboarding/social/website.png" alt="" />
                <input
                  type="text"
                  name="website_link"
                  id="website"
                  placeholder="Enter Link"
                />
              </div>
            </div>
          </div>

          <div
            class="navigation-buttons row d-flex justify-content-around gap-3 mt-5 px-2"
          >
            <button
              class="back-btn col btn bg-base text-dark rounded-4 px-2 px-sm-3 py-2 py-sm-3 bg-opacity-75"
            >
              <img src="../assets/ArrowRight.png" alt=" " />
              Go back
            </button>
            <button
              id="submitBtn"
              class="col btn btn-primary rounded-4 px-2 px-sm-3 py-2 py-sm-3 bg-opacity-75"
            >
              Continue
            </button>
          </div>
        </form>
      </div>
    </section>

    <script src="../js/addImg.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
    const socialHandles = document.querySelectorAll(".social-icons div");
    const linkInputs = document.querySelectorAll(".link_input");
    const submitBtn = document.querySelector(".btn-primary");
    const nameInput = document.querySelector("input[name='Name']");
    const emailInput = document.querySelector("input[name='email']");
    const progressBar = document.getElementById("progress");

    document.querySelector(".back-btn").style.display = "none";

  
    let currentTab = 0; // Current tab is set to be the first tab (0)
    showTab(currentTab); // Display the current tab
  
    function showTab(n) {
      const tabs = document.querySelectorAll(".tab");
      tabs.forEach((tab, index) => {
        tab.classList.remove("active");
        if (index === n) {
          tab.classList.add("active");
        }
      });
  
      if (n == 0) {
        document.querySelector(".back-btn").style.display = "none";
      } else {
        document.querySelector(".back-btn").style.display = "inline";
      }
      if (n == tabs.length - 1) {
        submitBtn.textContent = "Submit";
      } else {
        submitBtn.textContent = "Continue";
      }
  
      updateProgressBar();
    }
  
    function nextPrev(n) {
      const tabs = document.querySelectorAll(".tab");
      if (n === 1 && !validateForm()) {
        return false;
      }
  
      currentTab += n;
      if (currentTab >= tabs.length) {
        if (validateForm()) {
          window.location.href = "profile.html";
        }
        return false;
      }
      showTab(currentTab);
    }
  
    function validateForm() {
      const name = nameInput.value.trim();
      return name !== "";
    }
  
    function updateSubmitButtonState() {
      submitBtn.disabled = !validateForm();
    }
  
    function updateProgressBar() {
      const tabs = document.querySelectorAll(".tab");
      const percentage = ((currentTab + 1) / tabs.length) * 100;
      progressBar.style.width = `${percentage}%`;
      progressBar.setAttribute("aria-valuenow", percentage);
      document.querySelector("label[for='progress']").textContent = `${Math.round(percentage)}%`;
    }
  
    submitBtn.addEventListener("click", function (event) {
      if (currentTab >= document.querySelectorAll(".tab").length - 1 && !validateForm()) {
        event.preventDefault();
      } else {
        event.preventDefault();
        nextPrev(1);
      }
    });
  
    document.querySelector(".back-btn").addEventListener("click", function () {
      event.preventDefault();
      nextPrev(-1);
    });
  
    nameInput.addEventListener("input", updateSubmitButtonState);
  
    updateSubmitButtonState();
  
    function toggleActiveLink(event) {
      const clickedId = event.currentTarget.id;
      event.currentTarget.classList.toggle("active");
      document.querySelector(`.link_input#${clickedId}`).classList.toggle("active");
    }
  
    socialHandles.forEach((handle) => {
      handle.addEventListener("click", toggleActiveLink);
    });
  });
  
    </script>
  </body>
</html>
